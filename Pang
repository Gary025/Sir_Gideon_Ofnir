// 导出任务到CSV
            exportTasks() {
                if (this.tasks.length === 0) {
                    alert('暂无任务可导出！');
                    return;
                }

                // 构建CSV内容
                let csvContent = '任务名称,总时长（秒）,状态,剩余时间（秒）\n';
                this.tasks.forEach(task => {
                    csvContent += `${task.name},${task.duration},${task.status},${task.remaining}\n`;
                });

                // 创建下载链接
                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.setAttribute('href', url);
                link.setAttribute('download', 'tasks.csv');
                link.style.display = 'none';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }

            // 从CSV导入任务
            importTasks(event) {
                const file = event.target.files[0];
                if (!file) return;

                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const content = e.target.result;
                        const lines = content.split('\n');
                        if (lines.length <= 1) {
                            alert('CSV文件内容为空！');
                            return;
                        }

                        // 解析CSV（跳过表头）
                        const importedTasks = [];
                        for (let i = 1; i < lines.length; i++) {
                            const line = lines[i].trim();
                            if (!line) continue;

                            const [name, duration, status, remaining] = line.split(',');
                            if (name && duration) {
                                importedTasks.push(new Task(name, duration, status || 'pending', remaining));
                            }
                        }

                        this.tasks = importedTasks;
                        this.currentTaskIndex = null;
                        this.renderTasks();
                        alert(`成功导入 ${importedTasks.length} 个任务！`);
                    } catch (error) {
                        alert('导入失败：' + error.message);
                    }

                    // 清空文件输入
                    document.getElementById('fileInput').value = '';
                };

                reader.readAsText(file);
            }
        }

        // 初始化应用
        document.addEventListener('DOMContentLoaded', () => {
            new TimerApp();
        });
    </script>
</body>
</html>
